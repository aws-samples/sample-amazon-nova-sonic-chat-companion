#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const backend_stack_1 = require("../lib/backend-stack");
const cdk_nag_1 = require("cdk-nag");
const env = {
    account: process.env.CDK_DEFAULT_ACCOUNT,
    region: process.env.CDK_DEFAULT_REGION,
};
console.log(env);
const app = new cdk.App();
cdk.Aspects.of(app).add(new cdk_nag_1.AwsSolutionsChecks({ verbose: true }));
new backend_stack_1.SonicBackendStack(app, "SonicBackendStack", {
    // randomHeaderValue: crypto.randomBytes(48).toString("base64"),
    env: env,
    //DomainName root - this is a route53 hosted domain that is in the same account as this stack
    domainName: process.env.DOMAIN_NAME,
    //The API name. The app will be hosted at apiName.domainName
    apiName: process.env.API_NAME,
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2VuZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImJhY2tlbmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsdUNBQXFDO0FBQ3JDLG1DQUFtQztBQUNuQyx3REFBeUQ7QUFFekQscUNBQTZDO0FBRTdDLE1BQU0sR0FBRyxHQUFHO0lBQ1YsT0FBTyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQW1CO0lBQ3hDLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQjtDQUN2QyxDQUFDO0FBRUYsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNqQixNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUUxQixHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSw0QkFBa0IsQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDbkUsSUFBSSxpQ0FBaUIsQ0FBQyxHQUFHLEVBQUUsbUJBQW1CLEVBQUU7SUFDOUMsZ0VBQWdFO0lBQ2hFLEdBQUcsRUFBRSxHQUFHO0lBQ1IsNkZBQTZGO0lBQzdGLFVBQVUsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVk7SUFDcEMsNERBQTREO0lBQzVELE9BQU8sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVM7Q0FDL0IsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiIyEvdXNyL2Jpbi9lbnYgbm9kZVxuaW1wb3J0IFwic291cmNlLW1hcC1zdXBwb3J0L3JlZ2lzdGVyXCI7XG5pbXBvcnQgKiBhcyBjZGsgZnJvbSBcImF3cy1jZGstbGliXCI7XG5pbXBvcnQgeyBTb25pY0JhY2tlbmRTdGFjayB9IGZyb20gXCIuLi9saWIvYmFja2VuZC1zdGFja1wiO1xuaW1wb3J0ICogYXMgY3J5cHRvIGZyb20gXCJjcnlwdG9cIjtcbmltcG9ydCB7IEF3c1NvbHV0aW9uc0NoZWNrcyB9IGZyb20gXCJjZGstbmFnXCI7XG5cbmNvbnN0IGVudiA9IHtcbiAgYWNjb3VudDogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfQUNDT1VOVCxcbiAgcmVnaW9uOiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9SRUdJT04sXG59O1xuXG5jb25zb2xlLmxvZyhlbnYpO1xuY29uc3QgYXBwID0gbmV3IGNkay5BcHAoKTtcblxuY2RrLkFzcGVjdHMub2YoYXBwKS5hZGQobmV3IEF3c1NvbHV0aW9uc0NoZWNrcyh7IHZlcmJvc2U6IHRydWUgfSkpO1xubmV3IFNvbmljQmFja2VuZFN0YWNrKGFwcCwgXCJTb25pY0JhY2tlbmRTdGFja1wiLCB7XG4gIC8vIHJhbmRvbUhlYWRlclZhbHVlOiBjcnlwdG8ucmFuZG9tQnl0ZXMoNDgpLnRvU3RyaW5nKFwiYmFzZTY0XCIpLFxuICBlbnY6IGVudixcbiAgLy9Eb21haW5OYW1lIHJvb3QgLSB0aGlzIGlzIGEgcm91dGU1MyBob3N0ZWQgZG9tYWluIHRoYXQgaXMgaW4gdGhlIHNhbWUgYWNjb3VudCBhcyB0aGlzIHN0YWNrXG4gIGRvbWFpbk5hbWU6IHByb2Nlc3MuZW52LkRPTUFJTl9OQU1FISxcbiAgLy9UaGUgQVBJIG5hbWUuIFRoZSBhcHAgd2lsbCBiZSBob3N0ZWQgYXQgYXBpTmFtZS5kb21haW5OYW1lXG4gIGFwaU5hbWU6IHByb2Nlc3MuZW52LkFQSV9OQU1FISxcbn0pO1xuIl19