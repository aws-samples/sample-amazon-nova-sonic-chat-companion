#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const backend_stack_1 = require("../lib/backend-stack");
const crypto = require("crypto");
const cdk_nag_1 = require("cdk-nag");
const env = {
    account: process.env.CDK_DEFAULT_ACCOUNT,
    region: process.env.CDK_DEFAULT_REGION,
};
console.log(env);
const app = new cdk.App();
cdk.Aspects.of(app).add(new cdk_nag_1.AwsSolutionsChecks({ verbose: true }));
new backend_stack_1.SonicBackendStack(app, "SonicBackendStack", {
    randomHeaderValue: crypto.randomBytes(48).toString("base64"),
    env: env,
    //DomainName root - this is a route53 hosted domain that is in the same account as this stack
    domainName: process.env.DOMAIN_NAME,
    //The API name. The app will be hosted at apiName.domainName
    apiName: process.env.API_NAME,
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2VuZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImJhY2tlbmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsdUNBQXFDO0FBQ3JDLG1DQUFtQztBQUNuQyx3REFBeUQ7QUFDekQsaUNBQWlDO0FBQ2pDLHFDQUE2QztBQUU3QyxNQUFNLEdBQUcsR0FBRztJQUNWLE9BQU8sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQjtJQUN4QyxNQUFNLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0I7Q0FDdkMsQ0FBQztBQUVGLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDakIsTUFBTSxHQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7QUFFMUIsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksNEJBQWtCLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ25FLElBQUksaUNBQWlCLENBQUMsR0FBRyxFQUFFLG1CQUFtQixFQUFFO0lBQzlDLGlCQUFpQixFQUFFLE1BQU0sQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQztJQUM1RCxHQUFHLEVBQUUsR0FBRztJQUNSLDZGQUE2RjtJQUM3RixVQUFVLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFZO0lBQ3BDLDREQUE0RDtJQUM1RCxPQUFPLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFTO0NBQy9CLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIiMhL3Vzci9iaW4vZW52IG5vZGVcbmltcG9ydCBcInNvdXJjZS1tYXAtc3VwcG9ydC9yZWdpc3RlclwiO1xuaW1wb3J0ICogYXMgY2RrIGZyb20gXCJhd3MtY2RrLWxpYlwiO1xuaW1wb3J0IHsgU29uaWNCYWNrZW5kU3RhY2sgfSBmcm9tIFwiLi4vbGliL2JhY2tlbmQtc3RhY2tcIjtcbmltcG9ydCAqIGFzIGNyeXB0byBmcm9tIFwiY3J5cHRvXCI7XG5pbXBvcnQgeyBBd3NTb2x1dGlvbnNDaGVja3MgfSBmcm9tIFwiY2RrLW5hZ1wiO1xuXG5jb25zdCBlbnYgPSB7XG4gIGFjY291bnQ6IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX0FDQ09VTlQsXG4gIHJlZ2lvbjogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfUkVHSU9OLFxufTtcblxuY29uc29sZS5sb2coZW52KTtcbmNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG5cbmNkay5Bc3BlY3RzLm9mKGFwcCkuYWRkKG5ldyBBd3NTb2x1dGlvbnNDaGVja3MoeyB2ZXJib3NlOiB0cnVlIH0pKTtcbm5ldyBTb25pY0JhY2tlbmRTdGFjayhhcHAsIFwiU29uaWNCYWNrZW5kU3RhY2tcIiwge1xuICByYW5kb21IZWFkZXJWYWx1ZTogY3J5cHRvLnJhbmRvbUJ5dGVzKDQ4KS50b1N0cmluZyhcImJhc2U2NFwiKSxcbiAgZW52OiBlbnYsXG4gIC8vRG9tYWluTmFtZSByb290IC0gdGhpcyBpcyBhIHJvdXRlNTMgaG9zdGVkIGRvbWFpbiB0aGF0IGlzIGluIHRoZSBzYW1lIGFjY291bnQgYXMgdGhpcyBzdGFja1xuICBkb21haW5OYW1lOiBwcm9jZXNzLmVudi5ET01BSU5fTkFNRSEsXG4gIC8vVGhlIEFQSSBuYW1lLiBUaGUgYXBwIHdpbGwgYmUgaG9zdGVkIGF0IGFwaU5hbWUuZG9tYWluTmFtZVxuICBhcGlOYW1lOiBwcm9jZXNzLmVudi5BUElfTkFNRSEsXG59KTtcbiJdfQ==